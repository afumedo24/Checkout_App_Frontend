import{_ as h,I as D,a as C,b as k,c as $,d as T,e as G,f as H,g as O,h as z,i as E,j as K,k as L,l as x,m as W,n as j,o as q,p as J,r as e,q as r,s as d,w as o,t as n,u as g,v as I,x as f,y as R,z as B,A as Y,B as Z,C as N,D as Q,F as M,E as X,G as ee,H as oe,J as ne,K as S,L as te,M as se,N as w,O as y}from"./index-6f039f6a.js";const ae={components:{IonPage:D,IonContent:C,IonModal:k,IonHeader:$,IonDatetime:T,IonCard:G,IonCardContent:H,IonCardHeader:O,IonCardSubtitle:z,IonCardTitle:E,IonInput:K,IonItem:L,IonList:x,IonPopover:W,IonAccordion:j,IonNote:q,IonAccordionGroup:J},data(){return{userID:""}},mounted(){this.$store.commit("getLoggedUser")},computed:{loggedUser(){return this.$store.getters.getUser}},methods:{login(){this.$store.dispatch("Login",this.userID)}}},ce={class:"waviy"},ie={style:{"--i":"1"}};function le(t,i,s,b,u,a){const l=e("ion-item"),_=e("ion-list"),c=e("ion-card-content"),m=e("ion-card-subtitle"),p=e("ion-card-title"),v=e("ion-card-header"),V=e("ion-input"),A=e("ion-button"),F=e("ion-card");return this.loggedUser!=0?(r(),d(c,{key:0},{default:o(()=>[n(_,{class:"user-login"},{default:o(()=>[n(l,null,{default:o(()=>[g("h2",ce,[g("span",ie," Welcome "+I(a.loggedUser.fullname),1)])]),_:1})]),_:1})]),_:1})):(r(),d(F,{key:1,class:"user-list"},{default:o(()=>[n(v,null,{default:o(()=>[n(p,{class:"title"},{default:o(()=>[f("Zum Konto Einlogen "),n(m,{class:"subtitle"},{default:o(()=>[f("Bitte NFC-TAG scannen!")]),_:1})]),_:1})]),_:1}),n(c,null,{default:o(()=>[n(_,{class:"user-item"},{default:o(()=>[n(l,null,{default:o(()=>[n(V,{modelValue:u.userID,"onUpdate:modelValue":i[0]||(i[0]=P=>u.userID=P),labelPlacement:"standard",placeholder:"User"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(c,null,{default:o(()=>[n(A,{onClick:a.login,class:"login-button"},{default:o(()=>[f(" LOGIN ")]),_:1},8,["onClick"])]),_:1})]),_:1}))}const _e=h(ae,[["render",le],["__scopeId","data-v-5c389ab2"]]);const re={props:["device"],components:{IonImg:R,IonItem:L,IonLabel:B,IonThumbnail:Y},methods:{returnFunction(){const t={id:this.device.device_id,name:this.device.name};this.$store.commit("saveSingleDevice",t),this.$router.push("borrow/form")}}};function de(t,i,s,b,u,a){const l=e("ion-img"),_=e("ion-thumbnail"),c=e("ion-label"),m=e("ion-button"),p=e("ion-item");return r(),d(p,null,{default:o(()=>[n(_,{slot:"start"},{default:o(()=>[n(l,{src:s.device.image,alt:s.device.name},null,8,["src","alt"])]),_:1}),n(c,null,{default:o(()=>[g("h2",null,I(s.device.name),1),g("p",{class:Z(s.device.status=="Available"?"status-green":"status-red")},I(s.device.status),3),g("p",null," on "+I(s.device.receive_date),1)]),_:1}),n(m,{onClick:i[0]||(i[0]=v=>a.returnFunction())},{default:o(()=>[f(" Return ")]),_:1})]),_:1})}const ue=h(re,[["render",de],["__scopeId","data-v-4a8bbb91"]]);const me={props:["devices"],components:{IonList:x,BorrowedDeviceListItem:ue}},pe=t=>(X("data-v-aaa1cf4a"),t=t(),ee(),t),ge=pe(()=>g("h2",{class:"title"}," Your borrowed Devices ",-1));function fe(t,i,s,b,u,a){const l=e("borrowed-device-list-item"),_=e("ion-list");return r(),d(_,null,{default:o(()=>[ge,(r(!0),N(M,null,Q(s.devices,c=>(r(),d(l,{key:c.id,device:c},null,8,["device"]))),128))]),_:1})}const ve=h(me,[["render",fe],["__scopeId","data-v-aaa1cf4a"]]);const he={components:{IonHeader:$,IonToolbar:oe,IonButtons:ne,IonButton:S,IonContent:C,IonLabel:B,IonIcon:te},data(){return{radioOutline:se}},methods:{cancel(){return w.dismiss(null,"cancel")},onDecode(t){return w.dismiss(t,"confirm")}}},be={class:"icon-container"};function Ie(t,i,s,b,u,a){const l=e("ion-button"),_=e("ion-title"),c=e("ion-toolbar"),m=e("ion-header"),p=e("ion-icon"),v=e("ion-content");return r(),N(M,null,[n(m,{class:"header"},{default:o(()=>[n(c,{class:"toolbar"},{default:o(()=>[n(l,{onClick:a.cancel,class:"btn"},{default:o(()=>[f("Cancel")]),_:1},8,["onClick"]),n(_,{class:"title"},{default:o(()=>[f("Scan your NFC chip")]),_:1})]),_:1})]),_:1}),n(v,null,{default:o(()=>[g("div",be,[n(p,{icon:u.radioOutline,size:"large",class:"icon"},null,8,["icon"])])]),_:1})],64)}const U=h(he,[["render",Ie]]);const we={components:{IonPage:D,IonContent:C,IonModal:k,IonHeader:$,IonButton:S,UserLogin:_e,BorrowedDeviceList:ve,LoginModal:U},mounted(){this.$store.commit("getLoggedUser"),this.$store.dispatch("showAllBorrowedDevicesByUser",this.loggedUser.fullname),this.loggedUser==0&&this.openModal()},computed:{borrowedDevices(){return this.$store.getters.getBorrowedDevice},loggedUser(){return this.$store.getters.getUser}},methods:{createNewUser(){},async openModal(){console.log("Modal opened");const t=await w.create({component:U});t.present();const{data:i,role:s}=await t.onWillDismiss();s==="confirm"&&(this.message=`Hello, ${i}!`)}}};function Ce(t,i,s,b,u,a){const l=e("user-login"),_=e("borrowed-device-list"),c=e("ion-label"),m=e("ion-button"),p=e("ion-content"),v=e("ion-page");return r(),d(v,null,{default:o(()=>[n(p,null,{default:o(()=>[n(l),a.loggedUser!=0?(r(),d(_,{key:0,devices:a.borrowedDevices},null,8,["devices"])):y("",!0),a.loggedUser.is_admin===1?(r(),d(m,{key:1,class:"create-user-btn",onClick:a.createNewUser},{default:o(()=>[n(c,null,{default:o(()=>[f(" create a new User? ")]),_:1})]),_:1},8,["onClick"])):y("",!0)]),_:1})]),_:1})}const ye=h(we,[["render",Ce]]);export{ye as default};
