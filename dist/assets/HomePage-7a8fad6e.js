import{_ as C,I as M,a as U,b as N,c as k,d as G,e as O,f as S,g as W,h as z,i as K,j as F,k as A,l as j,m as q,n as J,o as Y,p as Z,r as o,q as f,s as I,w as n,t as e,u as V,v as Q,x as a,y as E,z as H,A as w,B as R,C as X,D as ee,E as g,F as P,G as T,H as ne,J as oe,K as te,L}from"./index-417b29b9.js";import{D as se}from"./DeviceList-81c94558.js";const ae={components:{IonPage:M,IonContent:U,IonModal:N,IonHeader:k,IonDatetime:G,IonCard:O,IonCardContent:S,IonCardHeader:W,IonCardSubtitle:z,IonCardTitle:K,IonInput:F,IonItem:A,IonList:j,IonPopover:q,IonAccordion:J,IonNote:Y,IonAccordionGroup:Z},data(){return{userID:""}},mounted(){this.$store.commit("getLoggedUser")},computed:{loggedUser(){return this.$store.getters.getUser}},methods:{login(){this.$store.dispatch("Login",this.userID)}}},le={style:{"--i":"1"}};function ce(t,s,_,v,u,l){const c=o("ion-item"),r=o("ion-list"),i=o("ion-card-content"),m=o("ion-card-subtitle"),p=o("ion-card-title"),d=o("ion-card-header"),h=o("ion-input"),$=o("ion-button"),y=o("ion-card");return this.loggedUser!=0?(f(),I(i,{key:0},{default:n(()=>[e(r,{class:"user-login"},{default:n(()=>[e(c,{style:{"text-align":"center","align-items":"center"}},{default:n(()=>[V("h1",null,[V("span",le," Welcome "+Q(l.loggedUser.fullname),1)])]),_:1})]),_:1})]),_:1})):(f(),I(y,{key:1,class:"user-list"},{default:n(()=>[e(d,null,{default:n(()=>[e(p,{class:"title"},{default:n(()=>[a("Zum Konto Einlogen "),e(m,{class:"subtitle"},{default:n(()=>[a("Bitte NFC-TAG scannen!")]),_:1})]),_:1})]),_:1}),e(i,null,{default:n(()=>[e(r,{class:"user-item"},{default:n(()=>[e(c,null,{default:n(()=>[e(h,{modelValue:u.userID,"onUpdate:modelValue":s[0]||(s[0]=D=>u.userID=D),labelPlacement:"standard",placeholder:"User"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:n(()=>[e($,{onClick:l.login,class:"login-button"},{default:n(()=>[a(" LOGIN ")]),_:1},8,["onClick"])]),_:1})]),_:1}))}const ie=C(ae,[["render",ce],["__scopeId","data-v-acde428a"]]);const re={components:{IonHeader:k,IonToolbar:E,IonButtons:H,IonButton:w,IonContent:U,IonLabel:R,IonIcon:X},data(){return{radioOutline:ee}},methods:{cancel(){return g.dismiss(null,"cancel")},onDecode(t){return g.dismiss(t,"confirm")}}},de={class:"icon-container"};function _e(t,s,_,v,u,l){const c=o("ion-button"),r=o("ion-title"),i=o("ion-toolbar"),m=o("ion-header"),p=o("ion-icon"),d=o("ion-content");return f(),P(T,null,[e(m,{class:"header"},{default:n(()=>[e(i,{class:"toolbar"},{default:n(()=>[e(c,{onClick:l.cancel,class:"btn",slot:"start"},{default:n(()=>[a("Cancel")]),_:1},8,["onClick"]),e(r,{class:"title"},{default:n(()=>[a("Scan your NFC chip")]),_:1})]),_:1})]),_:1}),e(d,null,{default:n(()=>[V("div",de,[e(p,{icon:u.radioOutline,size:"large",class:"icon"},null,8,["icon"])])]),_:1})],64)}const B=C(re,[["render",_e]]),ue=ne({components:{IonContent:U,IonHeader:k,IonTitle:oe,IonToolbar:E,IonButtons:H,IonButton:w,IonItem:A,IonInput:F,IonCheckbox:te},data(){return{data:{username:"",fullname:"",is_admin:!1}}},methods:{cancel(){return g.dismiss(null,"cancel")},confirm(){return g.dismiss(this.data,"confirm")}}});function me(t,s,_,v,u,l){const c=o("ion-button"),r=o("ion-title"),i=o("ion-toolbar"),m=o("ion-header"),p=o("ion-card-title"),d=o("ion-input"),h=o("ion-item"),$=o("ion-checkbox"),y=o("ion-card"),D=o("ion-content");return f(),P(T,null,[e(m,{class:"header"},{default:n(()=>[e(i,{class:"toolbar"},{default:n(()=>[e(c,{onClick:t.cancel,slot:"start",class:"btn"},{default:n(()=>[a("Cancel")]),_:1},8,["onClick"]),e(r,{class:"title"},{default:n(()=>[a("Create a new User")]),_:1})]),_:1})]),_:1}),e(D,{class:"ion-padding"},{default:n(()=>[e(y,{class:"card"},{default:n(()=>[e(p,{class:"label"},{default:n(()=>[a(" Fill out the field ")]),_:1}),e(h,{class:"item"},{default:n(()=>[e(d,{"label-placement":"stacked",label:"Enter the Username",modelValue:t.data.username,"onUpdate:modelValue":s[0]||(s[0]=b=>t.data.username=b),placeholder:"Username"},null,8,["modelValue"])]),_:1}),e(h,{class:"item"},{default:n(()=>[e(d,{"label-placement":"stacked",label:"Enter the Fullname",modelValue:t.data.fullname,"onUpdate:modelValue":s[1]||(s[1]=b=>t.data.fullname=b),placeholder:"Fullname"},null,8,["modelValue"])]),_:1}),e(h,{class:"item"},{default:n(()=>[e($,{modelValue:t.data.is_admin,"onUpdate:modelValue":s[2]||(s[2]=b=>t.data.is_admin=b)},{default:n(()=>[a(" Is User is admin? ")]),_:1},8,["modelValue"])]),_:1}),e(c,{expand:"block",onClick:t.confirm,strong:!0,class:"confirm"},{default:n(()=>[a(" Create User ")]),_:1},8,["onClick"])]),_:1})]),_:1})],64)}const x=C(ue,[["render",me],["__scopeId","data-v-5c6a16fe"]]);const pe={components:{IonPage:M,IonContent:U,IonModal:N,IonHeader:k,IonButton:w,UserLogin:ie,LoginModal:B,CreateUserModal:x,DeviceList:se},data(){return{title:"Your Borrowed Devices"}},mounted(){this.loggedUser==0&&this.openModal(),this.$store.commit("getLoggedUser"),this.$store.dispatch("showAllBorrowedDevicesByUser",this.loggedUser.fullname)},computed:{borrowedDevices(){return this.$store.getters.getBorrowedDevice},loggedUser(){return this.$store.getters.getUser}},methods:{async openModal(){const t=await g.create({component:B});t.present();const{data:s,role:_}=await t.onWillDismiss();_==="confirm"&&this.$store.dispatch("Login",s)},async openCreateUserModal(){const t=await g.create({component:x});t.present();const{data:s,role:_}=await t.onWillDismiss();_==="confirm"&&this.$store.dispatch("createUser",s)}}};function fe(t,s,_,v,u,l){const c=o("user-login"),r=o("device-list"),i=o("ion-label"),m=o("ion-button"),p=o("ion-content"),d=o("ion-page");return f(),I(d,null,{default:n(()=>[e(p,null,{default:n(()=>[e(c),l.loggedUser!=0?(f(),I(r,{key:0,listtitle:u.title,devices:l.borrowedDevices},null,8,["listtitle","devices"])):L("",!0),l.loggedUser.is_admin===1?(f(),I(m,{key:1,class:"create-user-btn",onClick:l.openCreateUserModal},{default:n(()=>[e(i,null,{default:n(()=>[a(" create a new User? ")]),_:1})]),_:1},8,["onClick"])):L("",!0)]),_:1})]),_:1})}const be=C(pe,[["render",fe]]);export{be as default};
